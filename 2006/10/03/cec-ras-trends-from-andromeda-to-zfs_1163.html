<!doctype html>
<html>
  <head>
    <link href="/stylesheets/all.css" rel="stylesheet" />
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>

    <title>Blog Title - CEC: RAS Trends From Andromeda to ZFS</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>

    <div id="main" role="main">
      <p>Richard Elling, PAE</p>

<p>Performance, Availability &amp; Architecture Engineering</p>

<p>He remembered to do the session recording start<br />
information…So far the second session I have attended to do so.</p>

<p>(We forgot to do it, bad presenters)</p>

<p>Internal changes to the process in the past few years have<br />
made a big difference in both pre-release quality and post-release<br />
support.</p>

<p><strong>MTBF, Heat, Moving Parts</strong></p>

<p>Starting with some</p>

<p>MTBSI == Mean Time Between Systems Interruption</p>

<p>Similar to previous usage of MTBF, now Failure does not have to mean<br />
System/Service Interruption</p>

<p>More Parts –&gt; lower MTBF (Bad)</p>

<p>[1] Integration == fewer parts == Higher MTBF</p>

<p>Most common failures Fans, Power Supplies, Disks, Memory</p>

<p>(glad he said that, I say it too…woot validation)</p>

<p>PowerSupply – Built in surge supressor</p>

<p>Designed for 1M hours MTBF (Niagara and Galaxy vs PC at ~83K hours)</p>

<p>Use fewer Better more expensive power supplies</p>

<p>Fans – Fail too often moving parts</p>

<p>Hard to implement fans in small systems</p>

<p>System policies can affect MTBSI…e.g. T1000 firmware starts<br />
a shutdown on fan failure, not on system temperature</p>

<p>This may not be the preferred method but it is in the spec.</p>

<p>Heat Kills, run cool, run for a long time</p>

<p>Disk numbers from Seagate, rule of thumb</p>

<p>+15deg C == MTBF / 2</p>

<p>Smaller disks run cooler and have faster seek (seagate<br />
website)</p>

<p><strong>Boot Disk Trends</strong></p>

<p>Nearly 100% of Sun's customers mirror boot disks in the DC</p>

<p>Software raid is popular but built in HW raid is becoming more<br />
popular, ZFS boot disks coming</p>

<p>Long term: solid state, CF slot in CP3010 and CP3020 also<br />
Moore's law</p>

<p>SAS vs Parallel SCSI…system now knows if the disk disappears<br />
before it tries to access it.</p>

<p>In case you weren't sure More parts == lower MTBF</p>

<p>See 1</p>

<p><strong>Memory</strong></p>

<p>Memory Page Retirement – FMA</p>

<p>What about mirrored memory?</p>

<p>Will anyone use it? Hey double memory sales!</p>

<p>(Probably only in the highest RAS demand environments)</p>

<p>See 1</p>

<p><strong>Processors</strong></p>

<p>More transistors – more self test circuits – More redundancy</p>

<p>See 1</p>

<p><strong>OPL</strong></p>

<p>Mainframe class reliability in a Solaris system</p>

<p><strong>Software</strong></p>

<p>Solaris FMA (Fault Management Architecture)</p>

<p>(_Really cool, useful messages, diagnosis codes, get a system<br />
and break things to see it</p>

<p>you could pull a disk to see an example however this is not Richard's<br />
top choice in terms of display)<br />
_</p>

<p>**_SMF</p>

<p>_**Before: Panic</p>

<p>SMF: Restart</p>

<p>Ability to define relationships</p>

<p>(See my previous posts and/or <a href="http://blogs.sun.com/lianep/">Liane<br />
Praza's Weblog</a>)</p>

<p><strong><em>ZFS</em></strong>_</p>

<p>_Data reliability…we know if we get corrupted data before<br />
we try to use it.</p>

<p>(_This is also cool, I have been running ZFS at home for at<br />
least 9 months, although I don't own any huge storage hardware for the<br />
complex case)</p>

<p>_</p>

<p>Data recovery time based on data space used not size of FS.</p>

<p>Not yet fully integrated with FMA, depends on driver, disks and system<br />
implementation.</p>

<p>**Virtulization</p>

<p>Good**</p>

<p>Really fast boot! == lower MTTR</p>

<p>Guest OS portability</p>

<p>Hide faults from OS</p>

<p>**Bad</p>

<p>**Hides faults from OS (If the OS knows there is a fault<br />
it can respond appropriately)</p>

<p>Scheduling…Real Time app or time-sensitive devices</p>

<p>**Fail<br />
in Place</p>

<p>**Possibly a better term "Deferred Repair<br />
Strategy"</p>

<p><em>(We use this in Grid…with 1000s of nodes do you really need<br />
a service call for a single failure? We say no)</em></p>

<p>From here we go from MTBF to MTBSI, non-service interrupting failure</p>

<p>**Scrubbing</p>

<p>**We scrub just about everything, looking for<br />
faults and corruption before we try to use bad data.</p>

<p><strong>Reduction<br />
in Parts</strong></p>

<p>X4100 Rack</p>

<p>78 Power supplies</p>

<p>E25K</p>

<p>6 Power supplies</p>

<p>Blade 8000</p>

<p>6 Power Supplies</p>

<p>(Similar for fans)</p>

<p>Why then would you deploy a rack of X4100s instead of Blades<br />
unless you have a specific need.</p>

<p>**Get<br />
More Information</p>

<p>**OpenSolaris Forums…Participate</p>

<p>b.s.c/relling</p>


    </div>

    <aside>
      <h2>Recent Articles</h2>
      <ol>
          <li><a href="/2016/09/25/a-very-soft-relaunch.html">A very soft relaunch</a> <span>Sep 25</span></li>
          <li><a href="/2011/07/27/looking-for-new-trail-shoes.html">Looking for new (trail) shoes</a> <span>Jul 27</span></li>
          <li><a href="/2011/07/27/gunpowder-50k.html">Gunpowder 50k</a> <span>Jul 27</span></li>
          <li><a href="/2011/01/02/winterclassic-2011.html">WinterClassic 2011</a> <span>Jan  2</span></li>
          <li><a href="/2010/11/28/mcm-race-report-or-example-of-poor.html">MCM Race Report or An Example of Poor Execution</a> <span>Nov 28</span></li>
          <li><a href="/2010/11/26/army-10-miler.html">Army 10 Miler</a> <span>Nov 26</span></li>
          <li><a href="/2010/11/09/potomac-heritage-50k.html">Potomac Heritage 50K</a> <span>Nov  9</span></li>
          <li><a href="/2010/10/21/10th-baltimore-marathon-race-report.html">10th Baltimore Marathon Race Report</a> <span>Oct 21</span></li>
          <li><a href="/2010/09/29/day-hike-on-at.html">Day Hike on the AT</a> <span>Sep 29</span></li>
          <li><a href="/2010/09/29/caps-vs-bruins-pre-season.html">Caps vs Bruins Pre-Season</a> <span>Sep 29</span></li>
      </ol>

      <h2>Tags</h2>
      <ol>
          <li><a href="/tags/yakshaving.html">yakshaving (130)</a></li>
          <li><a href="/tags/b-s-c.html">b.s.c. (241)</a></li>
          <li><a href="/tags/apple.html">apple (9)</a></li>
          <li><a href="/tags/solaris.html">solaris (33)</a></li>
          <li><a href="/tags/boring-n-healthy.html">boring N healthy (16)</a></li>
          <li><a href="/tags/grid.html">grid (3)</a></li>
          <li><a href="/tags/zones.html">zones (1)</a></li>
          <li><a href="/tags/solaris10.html">solaris10 (1)</a></li>
          <li><a href="/tags/lame.html">lame (6)</a></li>
          <li><a href="/tags/opensolaris.html">opensolaris (11)</a></li>
          <li><a href="/tags/bittorrent.html">BitTorrent (1)</a></li>
          <li><a href="/tags/photography.html">photography (1)</a></li>
          <li><a href="/tags/svn.html">SVN (2)</a></li>
          <li><a href="/tags/scm.html">SCM (2)</a></li>
          <li><a href="/tags/cvs.html">CVS (2)</a></li>
          <li><a href="/tags/svk.html">SVK (2)</a></li>
          <li><a href="/tags/cec-2006.html">CEC 2006 (28)</a></li>
          <li><a href="/tags/sun.html">Sun (32)</a></li>
          <li><a href="/tags/security.html">Security (5)</a></li>
          <li><a href="/tags/encryption.html">Encryption (1)</a></li>
          <li><a href="/tags/sun-cec.html">Sun CEC (44)</a></li>
          <li><a href="/tags/dtrace.html">Dtrace (1)</a></li>
          <li><a href="/tags/rbac.html">RBAC (1)</a></li>
          <li><a href="/tags/spam.html">spam (1)</a></li>
          <li><a href="/tags/education.html">Education (3)</a></li>
          <li><a href="/tags/sungrid.html">SunGrid (2)</a></li>
          <li><a href="/tags/puppy.html">puppy (1)</a></li>
          <li><a href="/tags/web2-0.html">web2.0 (4)</a></li>
          <li><a href="/tags/secondlife.html">secondlife (3)</a></li>
          <li><a href="/tags/paranoia.html">Paranoia (2)</a></li>
          <li><a href="/tags/sunmicrosystems.html">SunMicrosystems (1)</a></li>
          <li><a href="/tags/cec-2007.html">CEC 2007 (22)</a></li>
          <li><a href="/tags/indiana.html">indiana (1)</a></li>
          <li><a href="/tags/olpc.html">olpc (4)</a></li>
          <li><a href="/tags/x11.html">X11 (1)</a></li>
          <li><a href="/tags/howto.html">howto (6)</a></li>
          <li><a href="/tags/leopard.html">Leopard (5)</a></li>
          <li><a href="/tags/sgd.html">sgd (1)</a></li>
          <li><a href="/tags/tiger.html">Tiger (1)</a></li>
          <li><a href="/tags/sge.html">SGE (3)</a></li>
          <li><a href="/tags/n1ge.html">N1GE (2)</a></li>
          <li><a href="/tags/zfs.html">ZFS (6)</a></li>
          <li><a href="/tags/hockey.html">Hockey (3)</a></li>
          <li><a href="/tags/storage.html">storage (3)</a></li>
          <li><a href="/tags/food.html">food (5)</a></li>
          <li><a href="/tags/race.html">race (14)</a></li>
          <li><a href="/tags/running.html">running (23)</a></li>
          <li><a href="/tags/photo.html">photo (16)</a></li>
          <li><a href="/tags/baltimore.html">baltimore (5)</a></li>
          <li><a href="/tags/family.html">family (1)</a></li>
          <li><a href="/tags/theater.html">theater (1)</a></li>
          <li><a href="/tags/vacation.html">vacation (1)</a></li>
          <li><a href="/tags/china.html">china (1)</a></li>
          <li><a href="/tags/video.html">video (4)</a></li>
          <li><a href="/tags/untitled.html">Untitled (4)</a></li>
          <li><a href="/tags/humor.html">humor (2)</a></li>
          <li><a href="/tags/twitter.html">twitter (2)</a></li>
          <li><a href="/tags/games.html">games (1)</a></li>
          <li><a href="/tags/blender.html">blender (1)</a></li>
          <li><a href="/tags/movie.html">Movie (1)</a></li>
          <li><a href="/tags/rendering.html">rendering (1)</a></li>
          <li><a href="/tags/oss.html">OSS (3)</a></li>
          <li><a href="/tags/crosug.html">CROSUG (1)</a></li>
          <li><a href="/tags/marathon.html">marathon (4)</a></li>
          <li><a href="/tags/gooosegrade.html">gooosegrade (1)</a></li>
          <li><a href="/tags/computing.html">computing (1)</a></li>
          <li><a href="/tags/cloud.html">cloud (1)</a></li>
          <li><a href="/tags/performance.html">performance (2)</a></li>
          <li><a href="/tags/netbeans.html">NetBeans (1)</a></li>
          <li><a href="/tags/java.html">java (1)</a></li>
          <li><a href="/tags/fud.html">FUD (1)</a></li>
          <li><a href="/tags/hiking.html">hiking (2)</a></li>
          <li><a href="/tags/fail.html">fail (1)</a></li>
          <li><a href="/tags/maryland.html">Maryland (1)</a></li>
          <li><a href="/tags/tnfec.html">TNFEC (2)</a></li>
          <li><a href="/tags/aarc.html">AARC (2)</a></li>
          <li><a href="/tags/trail.html">trail (1)</a></li>
          <li><a href="/tags/burn.html">Burn (1)</a></li>
          <li><a href="/tags/wickerman.html">WickerMan (1)</a></li>
          <li><a href="/tags/work.html">work (1)</a></li>
          <li><a href="/tags/bruins.html">Bruins (1)</a></li>
          <li><a href="/tags/capitals.html">Capitals (1)</a></li>
          <li><a href="/tags/ultra.html">ultra (2)</a></li>
          <li><a href="/tags/fatass.html">fatass (2)</a></li>
          <li><a href="/tags/vhtrc.html">vhtrc (1)</a></li>
          <li><a href="/tags/pittsburgh.html">Pittsburgh (1)</a></li>
      </ol>

      <h2>By Year</h2>
      <ol>
          <li><a href="/2016.html">2016 (1)</a></li>
          <li><a href="/2011.html">2011 (3)</a></li>
          <li><a href="/2010.html">2010 (21)</a></li>
          <li><a href="/2009.html">2009 (2)</a></li>
          <li><a href="/2008.html">2008 (27)</a></li>
          <li><a href="/2007.html">2007 (56)</a></li>
          <li><a href="/2006.html">2006 (61)</a></li>
          <li><a href="/2005.html">2005 (95)</a></li>
      </ol>
    </aside>
  </body>
</html>
